<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css?family=KoHo" rel="stylesheet" type="text/css">    
  <link href="https://fonts.googleapis.com/css?family=Courgette" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <script type="text/javascript" src="js/md5.js"></script>
  <script type="text/javascript" src="js/code.js"></script>
  <script type="text/javascript" src="js/newfile.js"></script>

  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
  
  <link rel="stylesheet" href="css/contacts.css">
  <script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() 
  {
    // Comment this function call out if it is redirecting on vs code live server
    // readCookie();
    document.getElementById("welcomePrompt").innerHTML = "Hi, " + firstName + "!";
  }, false);
  
  // Hide tooltips if anywhere else is clicked.
  document.addEventListener("click", function(){$('#loadMoreButton').tooltip('hide');}, false);

  // Fetch the next batch of results when the end of page is reached.
  $(window).scroll(function() {
  if($(window).scrollTop() + $(window).height() >= ($(document).height() - 100)) {
    var id = $('.tab-content .active').attr('id');
    if(id != "home") {
        return;
    }
	  if (searched) searchNextBatch();

  }
  });

  </script>

  <title>Contact Manager &mdash; Home</title>
</head>
<body>
    
    <nav class="navbar navbar-expand-md navbar-dark charcoal-bg koho p-0 m-0 aqua-border-bottom">
        <div class="container-fluid p-0 m-0"> <!--padding here-->
            <a class="navbar-brand logo nav-link active"><i class="fa fa-address-book-o"></i> Get In Touch</a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
              
           
            <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                <!-- mb-2 mb-sm-1 was removed from ul -->
                <ul class="nav navbar-nav ms-auto nav-pills" id="myTab" role="tablist">
                    <li class=" nav-item" >
                      <span id="welcomePrompt" class="nav-link nohover m-0 m-md-1">Not logged in</span>
                    </li>
                    <li class="nav-item active m-0 m-md-1" role="presentation">
                      <a class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" role="tab" aria-controls="home" aria-selected="true"><i class="fa fa-home"></i> Home</a>
                    </li>
                    <li class="nav-item m-0 m-md-1" role="presentation">
                      <a class="nav-link" id="addContact-tab" data-bs-toggle="tab" data-bs-target="#addContact" role="tab" onclick="resetAnimation();" aria-controls="profile" aria-selected="false"><i class="fa fa-plus-circle"></i> Add Contact</a>
                    </li>
                    <li class="nav-item m-0 m-md-1">
                      <a class="nav-link" aria-current="page" onclick="doLogout();" href="#"><i class="fa fa-arrow-circle-right"></i> Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active mt-3" id="home" role="tabpanel" aria-labelledby="home-tab">
        <div class="container">
          <div class="example-text p-2">
            <h3 class="m-2 search-header" >Please Search Contacts Below</h3>
            <form class="d-flex justify-content-center m-3">
              <input class="me-2 search-bar" id="searchText" type="search" placeholder="Search" aria-label="Search">
              
              <button onclick="searchContacts(); return false;" class="btn fa-button-search"><span class="fa fa-search"></span></button>
            </form>

            <div class="accordion accordion-flush searchResult m-2" style="border-radius: 12px; display:none;" id="searchResults">
              
              
            </div>  <!-- end of search result div-->   
      
            <div id="loadMoreButton"data-bs-toggle="tooltip" data-bs-placement="bottom" title="Click, or scroll to end to load more." onclick="if (searched) searchNextBatch();" >
              
            </div>
          </div>
      
        </div>
        <div style="margin-bottom: 200px;"></div>
      </div> <!-- end of search tab-->

  
  <div class="tab-pane fade m-3" id="addContact" role="tabpanel" aria-labelledby="addContact-tab">
    <div class="container">
      
      <!--add contact form will go here-->
      <h1 id="addTitle">Add Contact</h1>
        <div id="addAlerts">

        </div>
        <div id="outerDiv">
          <div id="addDiv">
            <!-- <span id="innerTitle">Please Input Registration Information Below</span><br><br> -->
            <input id=addFirstName type="text" placeholder="First Name"><br><br>
            <input id=addLastName type="text" placeholder="Last Name"><br><br>
            <input id=addEmail type="text" placeholder="Email"><br><br>
            <input id=addPhone type="text" placeholder="Phone Number"><br><br>
            <button type="button" id="addButton" class="btn btn-outline" onclick="addContact();"><strong>Add</strong></button><br>
            <span id="contactAddResult"></span>
          </div>
        </div>
      </div>
    </div>
  </div>    

  <!-- Modal -->
  <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content modal-border charcoal-bg" style="color: white;">
        <div class="modal-header">
          <h3 class="modal-title" id="deleteModalLabel"><i class="fa fa-exclimation-circle"></i> Are you sure?</h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body ">
          <p>Are you sure you would like to delete this contact <span id="deleteName"></span>? This action is permanent.</p>
          <p>If you will like to proceed with this action please confirm your choice or cancel to go back.</p>
          <span id="contactDeleteResult"></span>
        </div>
        <div class="modal-footer">
          <button type="button" class="m-1 btn fa-button-cxl" data-bs-dismiss="modal">Cancel</button>
          <button id="deleteButtonInsideModal" type="button" class="m-1 btn fa-button-delete">Delete Contact</button>
        </div>
      </div>
    </div>
  </div>

  



<!-- Modal Test--
  <script>
    new bootstrap.Modal(document.getElementById('deleteModal')).toggle()
    </script>-->
    <iframe id="hidden_iframe" name="hidden_iframe" scrolling="no"></iframe>

</body>
<script>
  // Initialize tooltips.
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
  })
</script>
</html>